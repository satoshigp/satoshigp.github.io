<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
</head>
<style >
.contents
{
  position: relative;
  display:flex;
  justify-content: center;
}
  #GameMain
  {
    position :relative;
    display:inline-block;
    background: rgba(14, 85, 1,0.5);
    width: 700px;
    height: 550px;
    border:solid 3px rgb(0, 0, 0) ;
  }
</style>
<script>

  function a()
    {

        document.addEventListener("mousemove", (e)=>
        {
          if(flag==true)
          {
          var mX = e.pageX;  //X座標
          var mY = e.pageY;  //Y座標
          document.getElementById("txtX").value = mX;
          document.getElementById("txtY").value = mY;
        }
        });

    }
a();
  var flag=false;;
  function flagFunction()
  {
    flag=!flag;

    if(flag)
    document.getElementById('777').value="止める"
    else
    document.getElementById('777').value="始める"

  }


</script>
<body>
  <input type="button"  onclick="flagFunction()" id="777" value="始める" >
X座標：<input type="text" id="txtX">
Y座標：<input type="text" id="txtY">
<!--ゲーム画面-->
<div class="contents">
  <div id="GameMain">
    <!--画像配置場-->
  <span id="aaa"></span>
<!--秒数-->
    <h1 style="position:absolute;bottom:0px;left:650px;" id="timer">0</h1>
  </div>

</div>
<!--ゲームスタートのUI-->
<input type="button" style="width:100px;height:40px; font-size:25px;"value="Start" id="StartButton">
<script>

document.getElementById('StartButton').addEventListener("click",function(){this.remove();move();});
  function move()
  {

    /*画像生成*/
    instans();
    var screensize=document.getElementById('GameMain');
    var hae= document.getElementById('item').style;
    var speedX=2;
    var speedY=2;
    var Top=0;
    var Left=0;
    var time=0;
    /*ハエをクリックしたら消す*/
    document.getElementById('item').addEventListener("click",function(){this.remove();});
    var timer=document.getElementById('timer');
    {
    /*タイマーの役割*/
    setInterval(()=>{time++;timer.innerHTML=time;},1000);
    /*画像を動かす*/
    setInterval(()=>
    {
      Top+=speedX;
      Left+=speedY;
      /*反転条件*/
      if((Top>700-100)||(Top<0))speedX=-speedX;
      if((Left>550-100)||(Left<0))speedY=-speedY;
      /*代入*/
      hae.left=Top;
      hae.top=Left;
    },16.7);
  }
}

function instans()
{
  var index=Math.abs(Math.floor(Math.random()*10)-5);
  var test=new Array(index)
  for(var i=0;i<1;i++)
  {
    test[i]=new Image(100,100);
    test[i].src="../aseet/pIWhd2Mb.jpg";
    document.getElementById('aaa').innerHTML='<img src="../aseet/pIWhd2Mb.jpg" style="position:absolute;top:0px;left:auto;width:100px;height:100px;"id="item" >';
  }
}

</script>
</body>
</html>
